# WhisperX Batch Transcription Script

This script allows you to automatically transcribe multiple videos in a queue using WhisperX. It processes each video in sequence and organizes the transcription results in a structured folder system.

Created by @ramonteleco with VibeCoding using Claude 3.7 in April 2025.

## Prerequisites

Before using this script, make sure you have the following installed:

1. Python 3.7 or higher
2. WhisperX library
   ```
   pip install git+https://github.com/m-bain/whisperX.git
   ```
3. All WhisperX dependencies (PyTorch, FFmpeg, etc.)

## Folder Structure

The script will create and use the following folder structure:

```
[Script Directory]/
  ├── transcribir.py        # The script file
  ├── videos/               # Place your videos here (created automatically)
  │   ├── video1.mp4
  │   ├── video2.avi
  │   └── ...
  └── whisperx_results/     # Output folder (created automatically)
      ├── video1/           # Results for video1
      │   ├── video1.json
      │   ├── video1.srt
      │   └── ...
      ├── video2/           # Results for video2
      │   └── ...
      └── ...
```

## How to Use

### Step 1: Setup
1. Save the script as `transcribir.py`
2. The script will automatically create a `videos` folder in the same directory as the script

### Step 2: Adding Videos
Place all the videos you want to transcribe in the `videos` folder. 
The script supports various video formats:
- MP4 (.mp4)
- AVI (.avi)
- MOV (.mov)
- MKV (.mkv)
- WebM (.webm)

### Step 3: Run the Script
Open a terminal/command prompt and run:
```
python transcribir.py
```

### Step 4: Check Results
After processing is complete, the script will create a `whisperx_results` folder containing individual folders for each video with their respective transcription files.

For each video, you will find:
- `.srt` subtitle file
- `.json` file with detailed transcription data
- `.txt` plain text transcript
- Other output files generated by WhisperX

## Features

- **Automatic Detection**: Automatically detects videos in the designated folder
- **Batch Processing**: Processes multiple videos sequentially
- **Error Handling**: Continues processing if one video fails
- **Progress Tracking**: Shows which videos are being processed and summarizes results
- **Organized Output**: Creates separate folders for each video's transcription results

## Configuration Options

In the script, you can modify these variables at the beginning of the `main()` function:

- `videos_dir`: Directory where videos are stored (default: "videos" folder)
- `model_size`: WhisperX model size (default: "medium")
- `output_dir`: Directory where transcription results will be saved (default: "whisperx_results")

For GPU acceleration, you can change `--device` from "cpu" to "cuda" in the `process_video()` function if you have a compatible NVIDIA GPU.

## Troubleshooting

If you encounter issues:

1. Ensure WhisperX is properly installed
2. Check that the videos are in the correct format
3. Look for specific error messages displayed by the script
4. Make sure you have sufficient disk space for the output files

## Note

The script automatically creates the required folders if they don't exist and will guide you if no videos are found.
